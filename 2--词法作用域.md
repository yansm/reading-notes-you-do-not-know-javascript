
#词法作用域

##1&2.词法阶段&欺骗词法
没什么好说的其实···

**作用域查找会在找到第一个匹配的标识符时停止。在多层嵌套的作用域中可以定义同名的标识符，这叫做遮蔽效应。抛开遮蔽效应，作用域查找始终从运行时所处的最内部的作用域开始，逐级向外或者手向上进行，知道遇见第一个匹配符为止。**

***

**全局变量会自动成为全局对象的属性，因此可以不直接通过全局对象的词法名称，而是间接地通过对全局对象属性的引用来对其进行访问**

    window.a

**通过这种技术可以访问那些被同名变量所遮蔽的全局变量，但非全局的变量如果被遮蔽，无论如何都无法被访问。**

***

**JS中有两种机制实现欺骗词法（evel,with）。社区普遍认为在代码中使用这两种机制并不是什么好主意，但是关于他们的争论通常会忽略掉最重要的点：欺骗词法作用域会导致性能的下降**

因为js引擎的优化依赖于能够**根据代码的词法进行静态分析，并预先确定所有变量和函数的定义位置，才能在执行过程中快速的找到标识符。**

由于evel与with并不常用而且也不建议使用，所以不进行代码的举例。只需注意一下几点。

+   with部分功能已在es6中有语法实现。
+   evel只在测试代码中应用是最好的选择。
+   evel的实现总有其代替方案。
+   一些公司的语法检查是禁止evel的，所以尽量不要用。
